Barker
    Features
    *Post 
        -Text /
        -Images 
        -Videos
    *Edit Post
    *Delete Post

    *Follow Each Other
    
    *Search for Post or User

    *Like Post
    *Comment on Post
    *Repost a Post

    *Change Background Picture
    *Change Display Picture
    *Change Bio




    Code Backup
    <div class="postbox">
                <textarea id="postInput" placeholder="What's new?"></textarea>
                <button id="postButton">Bark!</button>
            </div>
            <div id="postsContainer" class="postsContainer"></div>
        </div>
        <script>
            function loadPosts() {
                fetch("posthandler.php")
                    .then(response => response.json())
                    .then(posts => {
                        const postsContainer = document.getElementById("postsContainer");
                        postsContainer.innerHTML = '';

                        posts.forEach(post => {
                            const postDiv = document.createElement("div");
                            postDiv.classList.add("post");

                            const postUser = document.createElement("div");
                            postUser.classList.add("post-user");
                            postUser.textContent = post.username;
                            postDiv.appendChild(postUser);

                            const postContent = document.createElement("div");
                            postContent.classList.add("post-content");
                            postContent.textContent = post.content;
                            postDiv.appendChild(postContent);

                            const postTimestamp = document.createElement("div");
                            postTimestamp.classList.add("post-timestamp");
                            postTimestamp.textContent = new Date(post.created_at).toLocaleString();
                            postDiv.appendChild(postTimestamp);

                            postsContainer.appendChild(postDiv);
                        });
                    })
                    .catch(error => console.error("Error loading posts:", error));
            }
            document.getElementById("postButton").addEventListener("click", function() {
                const input = document.getElementById("postInput");

                if (input.value.trim()) {
                    fetch("posthandler.php", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/x-www-form-urlencoded"
                        },
                        body: new URLSearchParams({ content: input.value })
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.status === "success") {
                            input.value = '';
                            loadPosts();
                        } else {
                            alert("Error posting: " + data.message);
                        }
                    })
                    .catch(error => console.error("Error posting:", error));
                } else {
                    alert("Please write something before posting.");
                }
            });
            document.addEventListener("DOMContentLoaded", loadPosts);
        </script>


    Code Backup
    <?php
session_start();
include 'db.php';

if (!isset($_SESSION['user_id'])) {
    header("Location: ../index.php");
    exit();
}

$user_id = $_SESSION['user_id'];

// Fetch user data
$sql = "SELECT * FROM users WHERE id = ?";
$stmt = $conn->prepare($sql);
$stmt->bind_param("i", $user_id);
$stmt->execute();
$user = $stmt->get_result()->fetch_assoc();

// Fetch user posts
$post_sql = "SELECT * FROM posts WHERE user_id = ? ORDER BY created_at DESC";
$post_stmt = $conn->prepare($post_sql);
$post_stmt->bind_param("i", $user_id);
$post_stmt->execute();
$posts = $post_stmt->get_result();
?>
